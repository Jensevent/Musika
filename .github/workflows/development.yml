name: Development

on:
  push:
    branches: [dev]


jobs:
  build:


    runs-on: ubuntu-latest

    steps:
      - name: Clone repo to runner
        uses: actions/checkout@v3

      - uses: ./.github/actions/test/action
        with:
          foo: "bar"


    # runs-on: ubuntu-latest  
    # strategy:
    #   matrix:
    #     test: [
    #       {
    #         PATH_TO_CSPROJ: "./Musika.Backend/Audio.Microservice/Audio.Microservice.csproj",
    #         PATH_TO_TEST_CSPROJ: "./Musika.Backend/Audio.Microservice.Test/Audio.Microservice.Test.csproj"
    #       },
    #       {
    #         PATH_TO_CSPROJ: "./Musika.Backend/Audio.Microservice/Audio.Microservice.csproj",
    #         PATH_TO_TEST_CSPROJ: "./Musika.Backend/Audio.Microservice.Test/Audio.Microservice.Test.csproj"
    #       }
    #     ]

    #  uses: Jensevent/Musika/.github/workflows/template.yml@dev
    #   with:
    #     PATH_TO_CSPROJ: ${{matrix.test.PATH_TO_CSPROJ}}
    #     PATH_TO_TEST_CSPROJ: ${{matrix.test.PATH_TO_TEST_CSPROJ}}         




    # WORKS
    # uses: Jensevent/Musika/.github/workflows/template.yml@dev
    # with:
    #   PATH_TO_CSPROJ: "./Musika.Backend/Audio.Microservice/Audio.Microservice.csproj"
    #   PATH_TO_TEST_CSPROJ: "./Musika.Backend/Audio.Microservice.Test/Audio.Microservice.Test.csproj"      

    
    # steps:
    #   - uses: actions/checkout@v3

    #   - uses: Jensevent/Musika/.github/workflows/template.yml@dev
    #     with:
    #       PATH_TO_CSPROJ: ${{matrix.test.PATH_TO_CSPROJ}},
    #       PATH_TO_TEST_CSPROJ: ${{matrix.test.PATH_TO_TEST_CSPROJ}}
